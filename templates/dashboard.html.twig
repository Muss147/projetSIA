{% extends "layout.html.twig" %}

{% block title %}Tableau de bord{% endblock %}

{% block stylesheets %}
    <link href="{{asset('assets/plugins/custom/datatables/datatables.bundle.css')}}" rel="stylesheet" type="text/css"/>
{% endblock %}

{% block body %}
<div
    class="d-flex flex-column flex-column-fluid">

    <!--begin::Toolbar-->
    <div
        id="kt_app_toolbar" class="app-toolbar  py-3 py-lg-6 ">

        <!--begin::Toolbar container-->
        <div
            id="kt_app_toolbar_container" class="app-container  container-xxl d-flex flex-stack ">


            <!--begin::Page title-->
            <div
                class="page-title d-flex flex-column justify-content-center flex-wrap me-3 ">
                <!--begin::Title-->
                <h1 class="page-heading d-flex text-gray-900 fw-bold fs-3 flex-column justify-content-center my-0">
                    Tableau de bord
                </h1>
                <!--end::Title-->


                <!--begin::Breadcrumb-->
                <ul
                    class="breadcrumb breadcrumb-separatorless fw-semibold fs-7 my-0 pt-1">
                    <!--begin::Item-->
                    <li class="breadcrumb-item text-muted">
                        <a href="{{path('dashboard')}}" class="text-muted text-hover-primary">
                            Accueil
                        </a>
                    </li>
                    <!--end::Item-->
                    <!--begin::Item-->
                    <li class="breadcrumb-item">
                        <span class="bullet bg-gray-500 w-5px h-2px"></span>
                    </li>
                    <!--end::Item-->

                    <!--begin::Item-->
                    <li class="breadcrumb-item text-muted">
                        Tableau de bord
                    </li>
                    <!--end::Item-->

                </ul>
                <!--end::Breadcrumb-->
            </div>
            <!--end::Page title-->
            <!--begin::Actions-->
            <div
                class="d-flex align-items-center gap-2">

                <!--begin::Daterangepicker(defined in src/js/layout/app.js)-->
                <div data-kt-daterangepicker="true" data-kt-daterangepicker-opens="left" class="btn btn-sm fw-bold btn-secondary d-flex align-items-center px-4">           
                    <!--begin::Display range-->
                    <div class="text-gray-600 fw-bold">
                        Loading date range...
                    </div>
                    <!--end::Display range-->

                    <i class="ki-duotone ki-calendar-8 fs-2 ms-2 me-0"><span class="path1"></span><span class="path2"></span><span class="path3"></span><span class="path4"></span><span class="path5"></span><span class="path6"></span></i>          
                </div>  
                <!--end::Daterangepicker--> 
            
            </div>
            <!--end::Actions-->
        </div>
        <!--end::Toolbar container-->
    </div>
    <!--end::Toolbar-->

    <!--begin::Content-->
    <div
        id="kt_app_content" class="app-content  flex-column-fluid ">


        <!--begin::Content container-->
        <div
            id="kt_app_content_container" class="app-container  container-xxl ">
            <!--begin::Row-->
            <div
                class="row g-5 gx-xl-10">
                <!--begin::Col-->
                <div
                    class="col-sm-6 col-lg-3 mb-md-5 mb-xl-10">
                    <!--begin::Card widget 8-->
                    <div
                        class="card overflow-hidden mb-5 mb-xl-10">
                        <!--begin::Card body-->
                        <div
                            class="card-body d-flex justify-content-between flex-column px-0 pb-0">
                            <!--begin::Statistics-->
                            <div
                                class="mb-4 px-9">
                                <!--begin::Description-->
                                <span class="fs-6 fw-semibold text-gray-500">Nombre de projets en cours</span>
                                <!--end::Description-->

                                <!--begin::Info-->
                                <div
                                    class="d-flex align-items-center mt-5">
                                    <!--begin::Value-->
                                    <span class="fs-2hx fw-bold text-gray-800 lh-1" data-kt-countup="true" data-kt-countup-value="123000" data-kt-countup-separator=".">0</span>
                                    <!--end::Value-->

                                    <!--begin::Currency-->
                                    <span class="fs-4 fw-semibold text-gray-500 align-self-start me-3">F</span>
                                    <!--end::Currency-->

                                    <!--begin::Label-->
                                    {# <span class="badge badge-light-success fs-base">
                                        <span class="svg-icon svg-icon-muted text-success ms-n1">
                                            <svg width="15" height="15" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <rect opacity="0.5" x="13" y="6" width="13" height="2" rx="1" transform="rotate(90 13 6)" fill="currentColor"/>
                                                <path d="M12.5657 8.56569L16.75 12.75C17.1642 13.1642 17.8358 13.1642 18.25 12.75C18.6642 12.3358 18.6642 11.6642 18.25 11.25L12.7071 5.70711C12.3166 5.31658 11.6834 5.31658 11.2929 5.70711L5.75 11.25C5.33579 11.6642 5.33579 12.3358 5.75 12.75C6.16421 13.1642 6.83579 13.1642 7.25 12.75L11.4343 8.56569C11.7467 8.25327 12.2533 8.25327 12.5657 8.56569Z" fill="currentColor"/>
                                            </svg>
                                        </span>
                                        2.2%
                                    </span> #}

                                    <!--end::Label-->
                                </div>
                                <!--end::Info-->
                            </div>
                            <!--end::Statistics-->
                        </div>
                        <!--end::Card body-->
                    </div>
                    <!--end::Card widget 8-->
                </div>
                <!--end::Col-->
                <!--begin::Col-->
                <div
                    class="col-sm-6 col-lg-3 mb-md-5 mb-xl-10">
                    <!--begin::Card widget 5-->
                    <div
                        class="card overflow-hidden mb-5 mb-xl-10">
                        <!--begin::Card body-->
                        <div
                            class="card-body d-flex justify-content-between flex-column px-0 pb-0">
                            <!--begin::Statistics-->
                            <div
                                class="mb-4 px-9">
                                <!--begin::Description-->
                                <span class="fs-6 fw-semibold text-gray-500">Revenus totaux</span>
                                <!--end::Description-->

                                <!--begin::Info-->
                                <div
                                    class="d-flex align-items-center mt-5">
                                    <!--begin::Value-->
                                    <span class="fs-2hx fw-bold text-gray-800 lh-1" data-kt-countup="true" data-kt-countup-value="1300" data-kt-countup-separator=".">0</span>
                                    <!--end::Value-->

                                    <!--begin::Currency-->
                                    <span class="fs-4 fw-semibold text-gray-500 align-self-start me-3">F</span>
                                    <!--end::Currency-->
                                </div>
                                <!--end::Info-->
                            </div>
                            <!--end::Statistics-->
                        </div>
                        <!--end::Card body-->
                    </div>
                    <!--end::Card widget 5-->
                </div>
                <!--end::Col-->
                <!--begin::Col-->
                <div
                    class="col-sm-6 col-lg-3 mb-md-5 mb-xl-10">
                    <!--begin::Card widget 9-->
                    <div
                        class="card overflow-hidden mb-5 mb-xl-10">
                        <!--begin::Card body-->
                        <div
                            class="card-body d-flex justify-content-between flex-column px-0 pb-0">
                            <!--begin::Statistics-->
                            <div
                                class="mb-4 px-9">
                                <!--begin::Description-->
                                <span class="fs-6 fw-semibold text-gray-500">Dépenses totales</span>
                                <!--end::Description-->

                                <!--begin::Info-->
                                <div
                                    class="d-flex align-items-center mt-5">
                                    <!--begin::Value-->
                                    <span class="fs-2hx fw-bold text-gray-800 lh-1" data-kt-countup="true" data-kt-countup-value="13000" data-kt-countup-separator=".">0</span>
                                    <!--end::Value-->

                                    <!--begin::Currency-->
                                    <span class="fs-4 fw-semibold text-gray-500 align-self-start me-3">F</span>
                                    <!--end::Currency-->
                                </div>
                                <!--end::Info-->
                            </div>
                            <!--end::Statistics-->
                        </div>
                        <!--end::Card body-->
                    </div>
                    <!--end::Card widget 9-->
                </div>
                <!--end::Col-->
                <!--begin::Col-->
                <div
                    class="col-sm-6 col-lg-3 mb-md-5 mb-xl-10">
                    <!--begin::Card widget 7-->
                    <div
                        class="card overflow-hidden mb-5 mb-xl-10">
                        <!--begin::Card body-->
                        <div
                            class="card-body d-flex justify-content-between flex-column px-0 pb-0">
                            <!--begin::Statistics-->
                            <div
                                class="mb-4 px-9">
                                <!--begin::Description-->
                                <span class="fs-6 fw-semibold text-gray-500">Articles en stock</span>
                                <!--end::Description-->

                                <!--begin::Info-->
                                <div
                                    class="d-flex align-items-center mt-5">
                                    <!--begin::Value-->
                                    <span class="fs-2hx fw-bold text-gray-800 lh-1" data-kt-countup="true" data-kt-countup-value="100" data-kt-countup-separator=".">0</span>
                                    <!--end::Value-->

                                    <!--begin::Currency-->
                                    <span class="fs-4 fw-semibold text-gray-500 align-self-start me-3">F</span>
                                    <!--end::Currency-->

                                    <!--begin::Label-->
                                    {# <span class="badge badge-light-danger fs-base">
                                        <span class="svg-icon svg-icon-muted text-danger ms-n1">
                                            <svg width="15" height="15" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <rect opacity="0.5" x="11" y="18" width="13" height="2" rx="1" transform="rotate(-90 11 18)" fill="currentColor"></rect>
                                                <path d="M11.4343 15.4343L7.25 11.25C6.83579 10.8358 6.16421 10.8358 5.75 11.25C5.33579 11.6642 5.33579 12.3358 5.75 12.75L11.2929 18.2929C11.6834 18.6834 12.3166 18.6834 12.7071 18.2929L18.25 12.75C18.6642 12.3358 18.6642 11.6642 18.25 11.25C17.8358 10.8358 17.1642 10.8358 16.75 11.25L12.5657 15.4343C12.2533 15.7467 11.7467 15.7467 11.4343 15.4343Z" fill="currentColor"></path>
                                            </svg>
                                        </span>
                                        2.2%
                                    </span> #}

                                    <!--end::Label-->
                                </div>
                                <!--end::Info-->
                            </div>
                            <!--end::Statistics-->
                        </div>
                        <!--end::Card body-->
                    </div>
                    <!--end::Card widget 7-->
                </div>
                <!--end::Col-->
            </div>
            <!--end::Row-->

            <!--begin::Row-->
            <div
                class="row g-5 g-xl-10 g-xl-10">
                <!--begin::Col-->
                <div
                    class="col-xl-6">
                    <!--begin::Chart widget 15-->
                    <div
                        class="card card-flush h-xl-100">
                        <!--begin::Body-->
                        <div
                            class="card-body pt-5">
                            <!--begin::Title-->
                            <h3 class="card-title align-items-start flex-column">
                                <span class="card-label fw-bold text-gray-900">Graphe d'évolution des ventes</span>
                            </h3>
                            <!--end::Title-->
                            <!--begin::Chart container-->
                            <canvas id="ventesChart" class="" width="400" height="200"></canvas>
                            <!--end::Chart container-->
                        </div>
                        <!--end::Body-->
                    </div>
                    <!--end::Chart widget 15-->
                </div>
                <!--end::Col-->

                <!--begin::Col-->
                <div
                    class="col-xl-6">
                    <!--begin::Chart widget 15-->
                    <div
                        class="card card-flush h-xl-100">
                        <!--begin::Body-->
                        <div
                            class="card-body pt-5">
                            <h3 class="card-title align-items-start flex-column">
                                <span class="card-label fw-bold text-gray-900">Graphe d'évolution des achats</span>
                            </h3>
                            <!--begin::Chart container-->
                            <canvas id="achatsChart" class="" width="400" height="200"></canvas>
                            <!--end::Chart container-->
                        </div>
                        <!--end::Body-->
                    </div>
                    <!--end::Chart widget 15-->
                </div>
                <!--end::Col-->
            </div>
            <!--end::Row-->

            <!--begin::Row-->
            <div
                class="row g-5 g-xl-10 g-xl-10 mt-5">
                
                <h3 class="card-title align-items-start flex-column">
                    <span class="card-label fw-bold text-gray-900">Chiffre d'affaire par BU.</span>
                </h3>

                <div class="col-12 table-responsive">
                    <table id="kt_datatable_zero_configuration" class="table table-striped table-row-bordered gy-5 gs-7">
                        <thead>
                            <tr class="fw-semibold fs-6 text-gray-800">
                                <th>N°</th>
                                <th>Nom</th>
                                <th>Type</th>
                                <th>Date</th>
                                <th>Salary</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>1</td>
                                <td>System Architect</td>
                                <td>Edinburgh</td>
                                <td>$320,800</td>
                                <td>2011/04/25</td>
                            </tr>
                            <tr>
                                <td>2</td>
                                <td>Accountant</td>
                                <td>Tokyo</td>
                                <td>$170,750</td>
                                <td>2011/07/25</td>
                            </tr>
                            <tr>
                                <td>3</td>
                                <td>Junior Technical Author</td>
                                <td>San Francisco</td>
                                <td>$86,000</td>
                                <td>2009/01/12</td>
                            </tr>
                            <tr>
                                <td>4</td>
                                <td>Junior Technical Author</td>
                                <td>San Francisco</td>
                                <td>$86,000</td>
                                <td>2009/01/12</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <!--end::Content container-->
    </div>
    <!--end::Content-->
</div>
{% endblock %}

{% block javascripts %}
    <!-- Resources -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{{asset('assets/plugins/custom/datatables/datatables.bundle.js')}}"></script>

    <script type="text/javascript">
        const ctx = document.getElementById('ventesChart').getContext('2d');
        const ventesChart = new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['1am', '3am', '5am', '7am', '9am', '11am', '1pm', '3pm', '5pm', '7pm', '9pm', '11pm'],
                datasets: [{
                    label: 'Ventes (%)',
                    data: [5, 10, 5, 47, 33, 10, 14, 20, 22, 33, 47, 15],
                    backgroundColor: '#2196F3'
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return value + "%";
                            }
                        }
                    }
                }
            }
        });
        const ctx2 = document.getElementById('achatsChart').getContext('2d');
        const achatsChart = new Chart(ctx2, {
            type: 'bar',
            data: {
                labels: ['1am', '3am', '5am', '7am', '9am', '11am', '1pm', '3pm', '5pm', '7pm', '9pm', '11pm'],
                datasets: [{
                    label: 'Achats (%)',
                    data: [5, 10, 5, 47, 33, 10, 14, 20, 22, 33, 47, 15],
                    backgroundColor: '#2196F3'
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return value + "%";
                            }
                        }
                    }
                }
            }
        });
    </script>
{% endblock %}